\subsubsection{Get}
\label{sec:end:rest:api:school:users:get}
Es sind nur Anfragen mit der HTTP-GET-Methode für ein GET der Daten zugelassen.
Die Antwort erfolgt mit dem JSON-Objekt \reflisting{lst:code:end:rest:api:school:users:get:ret}. Die einzelnen Felder der Antwort werden in Tabelle \reftabllec{tab:end:rest:api:school:users:get:ret:json} beschrieben.
Die Berechtigungungen auf den Endpoint können aus \reftabllec{tab:end:rest:api:school:users:get:right} entnommen werden.
\input{json}
\begin{lstlisting}[caption={JSON-Antwort für einen GET-Aufruf der Route /api/school/users},label={lst:code:end:rest:api:school:users:get:ret},frame=tlrb]
[
 {
  school_id: "<STRING>",
  user_id: "<STRING>",
	role: "<STRING>"
 },
...
 {
  school_id: "<STRING>",
  user_id: "<STRING>",
	role: "<STRING>"
 },
]
\end{lstlisting}

\begin{table}[htb]
	\begin{tabularx}{\textwidth}{|c|c|X|}
		\hline
			\textbf{Feldname} & \textbf{Datentyp} & \textbf{Beschreibung} \\ \hline
			school\_id & STRING & ID der Schule. \\ \hline
			user\_id & STRING & ID des Benutzers \\ \hline
			role & STRING & Rolle des Benutzers an der Schule. \\ \hline
	\end{tabularx}

		\caption{Beschreibung der Felder in eine JSON-Objekt für ein Benutzer an einer Schulle}
		\label{tab:end:rest:api:school:users:get:ret:json}
\end{table}

\begin{table}[htb]
	\begin{tabularx}{\textwidth}{|c|X|}
		\hline
\textbf{Benutzergruppen} & \textbf{Zugelassene Daten} \\ \hline
guest & Darf den Endpunkt nicht aufrufen und keine Daten vom Endpunkt erhalten. \\ \hline
students & Bekommt eine Liste mit ihren Daten, 
           den Daten ihrer Erziehungsberechtigten (nur Rolle \textit{parents}), 
					 den Daten ihrer Lehrer (nur Rolle \textit{teacher}) und 
					 den Daten ihres Schulleiters (nur Rolle \textit{principal}) wieder.\\ \hline
parents & Bekommt eine Liste mit ihren Daten, 
          den Daten ihrer Kinder unter 18 oder Personen, für die sie die Vormundschaft hat (nur Rolle \textit{students}), 
					den Daten der Lehrer ihrer Kinder unter 18 oder Personen für die sie die Vormundschaft haben (nur Rolle teacher) und
					den Daten der Schulleiter ihrer Kinder unter 18 oder Personen für die sie die Vormundschaft haben (nur Rolle \textit{principal})
					wieder.\\ \hline
teacher & Bekommt eine Liste mit ihren Daten, 
          den Daten aller Schüler, die sie unterrichten (nur Rolle \textit{students}),
					den Daten aller Erziehungsberechtigten von Schülern unter 18 oder Schülern mit einem Vormund die Sie Unterrichten (nur Rolle \textit{parents}) und
					den Daten aller Kollegen (nur mit den Rollen \textit{teacher}, \textit{principal}, \textit{school-admin}) 
					wieder.\\ \hline
principal & Bekommt eine Liste mit ihren Daten,
            den Daten aller Schüler von Schulen, an denen Sie Schulleiter sind (Rolle \textit{students}),
						den Daten aller Erziehungsberechtigten von Schülern von Schulen, an denen Sie Schulleiter sind (nur Rolle \textit{parents}) und
					  den Daten aller Kollegen (nur mit den Rollen \textit{teacher}, \textit{principal}, \textit{school-admin})
						wieder.\\ \hline
school-admin & Bekommt eine Liste mit ihren Daten und
               den Daten aller Personen von den Schulen, an denen er die Rolle \textit{school-admin} hat mit den Rollen \textit{students}, \textit{parents}, \textit{teacher}, \textit{principal} und \textit{school-admin} wieder.  \\ \hline
school-board & \textcolor[rgb]{1,0.41,0.13}{\textbf{Muss geklärt werden, welche Einschränkungen auf den Daten es hier gibt}} \\ \hline
fed-school-board & \textcolor[rgb]{1,0.41,0.13}{\textbf{Muss geklärt werden, welche Einschränkungen auf den Daten es hier gibt}} \\ \hline
sync-systems & Liste mit allen Personen, in den Rollen der Personen an den Schulen, von den es syncen darf. \\ \hline

	\end{tabularx}

		\caption{Berechtigungen auf dem Endpunkt}
		\label{tab:end:rest:api:school:users:get:right}
\end{table}